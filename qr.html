<!DOCTYPE html>
<html>
  <head>
    <title>QR-Code für Coyote Socket</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  </head>
  <body>
    <h1>Ihr Paket ist da. Bitte Scannen Sie den QR Code</h1>
    <canvas id="qrcode"></canvas>

    <script type="module">
      import { connectionId } from "./wsConnection.js";

      const prefix =
        "https://www.dungeon-lab.com/app-download.php#DGLAB-SOCKET#";
      const wsURL = `wss://coyote-ws-server.onrender.com/${connectionId}`;
      const qrData = prefix + wsURL;

      console.log("QR-Daten:", qrData);

      QRCode.toCanvas(
        document.getElementById("qrcode"),
        qrData,
        function (error) {
          if (error) console.error(error);
          else console.log("✅ QR-Code generiert");
        }
      );
    </script>
  </body>
</html>
